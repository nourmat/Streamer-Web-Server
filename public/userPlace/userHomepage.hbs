<!DOCTYPE html>
<html lang="en">
   <head>
      <!-- basic -->
      <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <!-- mobile metas -->
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta name="viewport" content="initial-scale=1, maximum-scale=1">
      <!-- site metas -->
      <title>Homepage</title>
      <meta name="keywords" content="">
      <meta name="description" content="">
      <meta name="author" content="">
      <!-- bootstrap css -->
      <link rel="stylesheet" href="../resources/Homepage/css/bootstrap.min.css">
      <!-- style css -->
      <link rel="stylesheet" href="../resources/Homepage/css/style.css">
      <!-- Responsive-->
      <link rel="stylesheet" href="../resources/Homepage/css/responsive.css">
      <!-- fevicon -->
      <link rel="icon" type="image/png" href="../resources/Login/images/icons/favicon.ico"/>
      <!-- Scrollbar Custom CSS -->
      <link rel="stylesheet" href="../resources/Homepage/css/jquery.mCustomScrollbar.min.css">
      <!-- Tweaks for older IEs-->
      <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css">
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.5/jquery.fancybox.min.css" media="screen">
      <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script><![endif]-->

      <!--===============================================================================================-->
      <!-- bootstrap core css -->
      {{!-- <link rel="stylesheet" type="text/css" href="resources/webSitePagesRes/css/bootstrap.css" /> --}}

      <!--owl slider stylesheet -->
      <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.carousel.min.css" />

      <!-- fonts style -->
      <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700;900&display=swap" rel="stylesheet">

      <!-- font awesome style -->
      <link href="resources/webSitePagesRes/css/font-awesome.min.css" rel="stylesheet" />

      <!-- Custom styles for this template -->
      <link href="resources/webSitePagesRes/css/style.css" rel="stylesheet" />
      <!-- responsive style -->
      <link href="resources/webSitePagesRes/css/responsive.css" rel="stylesheet" />
   </head>
   <!-- body -->
   <body class="main-layout">
      {{!-- <!-- loader  -->
      <div class="loader_bg">
         <div class="loader"><img src="../resources/Homepage/images/loading.gif" alt="#" /></div>
      </div> --}}
      <!-- end loader -->
      
      <!-- header section strats -->
      <header class="header_section"  style="background-image: url('resources/webSitePagesRes/images/hero-bg.png');">
         <div class="container">
            <nav class="navbar navbar-expand-lg custom_nav-container ">
            <a class="navbar-brand" href="/">
               <span>
               Homep
               </span>
            </a>

            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
               <span class=""> </span>
            </button>

            <div class="collapse navbar-collapse" id="navbarSupportedContent">
               <ul class="navbar-nav">
               <li class="nav-item">
                  <a class="nav-link" href="/">Home <span class="sr-only">(current)</span></a>
               </li>
               {{#if logged}}
                  <li class="nav-item">
                     <a class="nav-link" href="/api/auth/logout">Logout <span class="sr-only">(current)</span></a>
                  </li>
               {{else}}
                  <li class="nav-item">
                     <a class="nav-link" href="/login">Login <span class="sr-only">(current)</span></a>
                  </li>
               {{/if}}
               
               <li class="nav-item">
                  <a class="nav-link" href="/register">Register <span class="sr-only">(current)</span></a>
               </li>
               <li class="nav-item">
                  <a class="nav-link" href="about.html"> About</a>
               </li>
               <li class="nav-item">
                  <a class="nav-link" href="service.html">Services</a>
               </li>
               <li class="nav-item">
                  <a class="nav-link" href="contact.html">Contact Us</a>
               </li>
               </ul>
            </div>
            </nav>
         </div>
      </header>
      <!-- end header section -->

      <section >
         <div id="main_slider" class="carousel slide banner-main" data-ride="carousel">
            <div class="carousel-inner">
               <div class="carousel-item active">
                  <div class="container">
                     <div class="row marginii">
                        <div class="col-xl-6 col-lg-6 col-md-6 col-sm-12">
                           <div class="carousel-caption ">
                              <h1>Surveillance <strong class="color">Camera</strong></h1>
                              <p>What do you need to do today? </p>
                              <form style="background: none;" method="GET" id="myForm">
                                 <div class="col-xl-8 col-lg-8 col-md-8 col-sm-12">
                                    <label>
                                       Location:
                                       <select name= "place_id" id="places" onChange="changecat(this.value);" required>
                                          <option value="Midgar">Midgar</option>
                                          <option value="Temple_of_the_Ancients">Temple of the Ancients</option>
                                          <option value="Junon">Junon</option>
                                          <option value="Northern_Crater">Northern Crater</option>
                                       </select>
                                   </label>
                                   <label style="visibility: hidden;" id="cams">
                                    Camera:
                                    <select name= "camera_id" id="cameras" required>
                                    </select>
                                    </label>
                                 </div>
                                 <button class="btn btn-lg btn-primary" id="livestream" href="#" type="submit" role="button">LiveStream</button>
                                 <button class="btn btn-lg btn-primary" id="history" href="#" type="submit" role="button">History</button>
                                 <button style="margin-left: 100px; margin-top: 25px" class="btn btn-lg btn-primary" id="analytics" href="Analytics.html" role="button">Cam Analytics</button>
                              </form>
                              <a style="margin-left: 125px;" class="btn btn-lg btn-primary" id="edit" href="Edit info.html" role="button">Edit Profile</a>
                           </div>
                        </div>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </section>
      <!-- footer -->
      <footer>
         <div id="contact" class="footer">
            <div class="container">
               <div class="row pdn-top-30">
                  <div class="col-md-12 ">
                     <div class="footer-box">
                        <div class="headinga">
                           <h3>Contact Us</h3>
                           <span>+0201583682921</span>
                        </div>
                        <ul class="location_icon">
                           <li> <a href="#"><img src="../resources/Homepage/icon/facebook.png"></a></li>
                           <li> <a href="#"><img src="../resources/Homepage/icon/Twitter.png"></a></li>
                           <li> <a href="#"><img src="../resources/Homepage/icon/linkedin.png"></a></li>
                           <li> <a href="#"><img src="../resources/Homepage/icon/instagram.png"></a></li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div>
            <div class="copyright">
               <div class="container">
                  <p>Copyright 2019 All Rights Reserved Design By  <a href="https://html.design/">Free Html Templates</a></p>
               </div>
            </div>
         </div>
      </footer>
      <!-- end footer -->
      <!-- Javascript files-->
      <script src="../resources/Homepage/js/jquery.min.js"></script>
      <script src="../resources/Homepage/js/popper.min.js"></script>
      <script src="../resources/Homepage/js/bootstrap.bundle.min.js"></script>
      <script src="../resources/Homepage/js/jquery-3.0.0.min.js"></script>
      <script src="../resources/Homepage/js/plugin.js"></script>
      <!-- sidebar -->
      {{!-- <script src="../resources/Homepage/js/jquery.mCustomScrollbar.concat.min.js"></script>
      <script src="../resources/Homepage/js/custom.js"></script> --}}
      <script>

         fetch('./api/place')
            .then((res) => {
                  return res.json();
            }).then((data) => {
                  appendData("places", data);
            }).catch((err) => {
                  console.log(err);
            });
         
            document.getElementById("livestream").onclick = function() { 
               document.getElementById("myForm").action = "/stream"; 
            };
            document.getElementById("history").onclick = function() {
               document.getElementById("myForm").action = "/history";
            };
            
         function appendData(elementID, data)
         {
            if(data){
                  var catOptions = "";
                  for (var i = 0 ; i < data.length + 1; i++) {
                     if(i==0) {
                        if(elementID === "places")
                           catOptions += "<option selected disabled hidden>Choose Location</option>";
                        else if (elementID === "cameras")
                           catOptions += "<option selected disabled hidden>Choose Camera</option>";
                     } else {
                        if(elementID === "places")
                           catOptions += '<option value="' + data[i-1].Place_ID +'">' + data[i-1].Name + "</option>";
                        else if (elementID === "cameras")
                           catOptions += '<option value="' + data[i-1].Camera_ID +'">' + data[i-1].Name + "</option>";
                     }
                  }
                  document.getElementById(elementID).innerHTML = catOptions;
            }
         }
         
         function changecat(value) {
            fetch('./api/camera?place_id='+value)
            .then((res) => {
                return res.json();
            }).then((data) => {
                appendData("cameras",data);
                document.getElementById("cams").style.visibility = 'visible';
            }).catch((err) => {
                console.log(err);
            });
         }
      </script>

   </body>
</html>